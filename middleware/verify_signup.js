const db = require('../models');
const ROLES = db.ROLES;
const User = db.user;

check_duplicate_user_or_email = async function(req, res, next) => {
	var user = await User.findOne({
		where: {
			username: req.body.username
		}
	});

	if(user){
		res.status(400).send({
			message: "Failed! Username in use"
		});
		return;
	}

	// email
	var e_mail = await User.findOne({
		where: {
			email: req.body.email
		}
	});

	if(e_mail){
		res.status(400).send({
			message: "Failed! email in use"
		})
		return;
	}

	next()

};
